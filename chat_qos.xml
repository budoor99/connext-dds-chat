<?xml version="1.0"?>
<dds xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:noNamespaceSchemaLocation="https://community.rti.com/schema/7.3.0/rti_dds_qos_profiles.xsd">

  <qos_library name="Chat_Library">


    <qos_profile name="Chat_Profile">
      <participant_qos>
        <participant_name>
          <name>ChatApp</name>
        </participant_name>
        <transport_builtin>
          <mask>UDPv4</mask>
        </transport_builtin>
      </participant_qos>
    </qos_profile>

    <qos_profile name="ChatUser_Profile" base_name="BuiltinQosLibExp::Pattern.Status">
      <datareader_qos>
        <subscription_name><name>ChatUser_Reader</name></subscription_name>
        <liveliness>
          <lease_duration>
            <sec>3</sec><nanosec>0</nanosec>
          </lease_duration>
        </liveliness>
      </datareader_qos>

      <datawriter_qos>
        <publication_name><name>ChatUser_Writer</name></publication_name>
        <liveliness>
          <lease_duration>
            <sec>2</sec><nanosec>0</nanosec>
          </lease_duration>
        </liveliness>
      </datawriter_qos>
    </qos_profile>

    <qos_profile name="ChatMessage_Profile">
        <datawriter_qos>
            <reliability><kind>RELIABLE_RELIABILITY_QOS</kind></reliability>
            <history><kind>KEEP_ALL_HISTORY_QOS</kind></history>
            <resource_limits>
                <max_samples>5000</max_samples>
                <max_instances>5000</max_instances>
                <max_samples_per_instance>5000</max_samples_per_instance>
            </resource_limits>
            <durability><kind>PERSISTENT_DURABILITY_QOS</kind></durability>
            <publication_name><name>ChatMessage_Writer</name></publication_name>
        </datawriter_qos>

        <datareader_qos>
            <reliability><kind>RELIABLE_RELIABILITY_QOS</kind></reliability>
            <history><kind>KEEP_ALL_HISTORY_QOS</kind></history>
            <resource_limits>
                <max_samples>5000</max_samples>
                <max_instances>5000</max_instances>
                <max_samples_per_instance>5000</max_samples_per_instance>
            </resource_limits>
            <durability><kind>PERSISTENT_DURABILITY_QOS</kind></durability>
            <subscription_name><name>ChatMessage_Reader</name></subscription_name>
        </datareader_qos>
    </qos_profile>

  </qos_library>
</dds>
