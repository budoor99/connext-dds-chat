<?xml version="1.0" encoding="UTF-8"?>
<dds>
  <qos_library name="PSQos">
    <qos_profile name="PSDefault">
      <datawriter_qos>
        <reliability><kind>RELIABLE_RELIABILITY_QOS</kind></reliability>
        <history><kind>KEEP_ALL_HISTORY_QOS</kind></history>
      </datawriter_qos>
      <datareader_qos>
        <reliability><kind>RELIABLE_RELIABILITY_QOS</kind></reliability>
        <history><kind>KEEP_ALL_HISTORY_QOS</kind></history>
      </datareader_qos>
    </qos_profile>
  </qos_library>

  <persistence_service name="ChatPS">
    <persistent_storage>
      <filesystem>
        <directory>persistence\data</directory>
        <file_prefix>chat</file_prefix>
      </filesystem>
    </persistent_storage>

    <participant name="PSParticipant">
      <domain_id>0</domain_id>
      <persistence_group name="ChatMsgs" filter="message">
        <datareader_qos base_name="PSQos::PSDefault"/>
        <datawriter_qos base_name="PSQos::PSDefault"/>
      </persistence_group>
    </participant>
  </persistence_service>
</dds>
